{"remainingRequest":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/babel-loader/lib/index.js!/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/src/views/searching.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/src/views/searching.vue","mtime":1648715263422},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/babel.config.js","mtime":1636355295900},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/cache-loader/dist/cjs.js","mtime":1636355256849},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/babel-loader/lib/index.js","mtime":1636355259083},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/cache-loader/dist/cjs.js","mtime":1636355256849},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/vue-loader-v16/dist/index.js","mtime":1636355259185}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saW55b3VuZ3NoaXUvTG9iYnkoT3dPKS9cdTY4NDhcdTVCNTAvXHU1MDBCXHU0RUJBXHU0RjVDXHU1NEMxXHVGRjVDXHU1MDVBXHU3QzIxXHU3RDA0XHU1OTdEXHU3M0E5XHU3Njg0XHU2NzcxXHU4OTdGL1x1NTkyN1x1OTFDRlx1N0RGNFx1N0ZEMlx1NzY4NFx1OTA0RVx1N0EwQi9cdTUyNERcdTdBRUYvaGFuZ19vdXRfdGFpd2FuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmRvdC1hbGwuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuc3RpY2t5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLyDoh6roo73nmoQgbWl4aW4KaW1wb3J0IGdldFRkeERhdGFNaXhpbiBmcm9tICJAL21peGlucy9nZXRUZHhEYXRhTWl4aW4iOwppbXBvcnQgbWFpbkltZyBmcm9tICJAL21peGlucy9kaXJlY3RpdmVzL21haW5JbWcuanMiOyAvLyBjb21wb25lbnRzCgppbXBvcnQgQ2FyZFdpdGhJbWdBbmROYW1lIGZyb20gIkAvY29tcG9uZW50cy9jYXJkV2l0aEltZ0FuZE5hbWUudnVlIjsKaW1wb3J0IEJyZWFkY3J1bWIgZnJvbSAiQC9jb21wb25lbnRzL2JyZWFkY3J1bWIudnVlIjsgLy8gdnVlIGxvYWRpbmcgb3ZlcmxheQoKaW1wb3J0IExvYWRpbmcgZnJvbSAidnVlLWxvYWRpbmctb3ZlcmxheSI7CmltcG9ydCAidnVlLWxvYWRpbmctb3ZlcmxheS9kaXN0L3Z1ZS1sb2FkaW5nLmNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZmlyc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIENhcmRXaXRoSW1nQW5kTmFtZTogQ2FyZFdpdGhJbWdBbmROYW1lLAogICAgQnJlYWRjcnVtYjogQnJlYWRjcnVtYiwKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIG1peGluczogW2dldFRkeERhdGFNaXhpbiwgbWFpbkltZ10sCiAgcHJvcHM6IFsiYXBpVHlwZSIsICJzZWFyY2hpbmdQYXJhbWV0ZXJzIl0sCiAgZGlyZWN0aXZlczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRUaGVtZTogdGhpcy4kcm91dGUucXVlcnkudGhlbWUsCiAgICAgIGN1cnJlbnRUaGVtZU5hbWU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnRoZW1lICsgIk5hbWUiLAogICAgICBjdXJyZW50Q2l0eToge30sCiAgICAgIC8vIHZ1ZSBsb2FkaW5nIG92ZXJsYXkKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZnVsbFBhZ2U6IHRydWUsCiAgICAgIC8vIHNlYXJjaGluZyBiYXIKICAgICAgY2l0eUxpc3Q6IFtdLAogICAgICBrZXl3b3JkczogdGhpcy4kcm91dGUucXVlcnkua2V5d29yZHMgfHwgIiIsCiAgICAgIC8vIHNwb3QgZGF0YSBmcm9tIFREWAogICAgICBhcGlQYXJhbWV0ZXJzOiB7fSwKICAgICAgYWxsU3BvdHNPZkN1cnJlbnRUaGVtZTogW10sCiAgICAgIGFsbENhdGVnb3JpZXNPZkN1cnJlbnRUaGVtZTogW10sCiAgICAgIHJlc3VsdFNwb3RzTGlzdDogW10sCiAgICAgIHNob3dSZXN1bHRzOiBmYWxzZSwKICAgICAgYW1vdW50c09mU3BvdHNEdXJuaW5nRWFjaFJlc3VsdFNob3dpbmdTdGFnZTogOCwKICAgICAgc3RhZ2VPZlJlc3VsdFNob3dpbmc6IDEsCiAgICAgIC8vIOWmguaenOWclueJh+e2suWdgOeEoeaViOimgeeUqOeahOWCmeeUqOWclueJhwogICAgICBiYWNrdXBJbWc6IHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWdGb3JOb0ltZ3VybC5wbmciKQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZShmcm9tLCB0bykgewogICAgICBpZiAoZnJvbS5xdWVyeS50aGVtZSA9PT0gdG8ucXVlcnkudGhlbWUpIHsKICAgICAgICB0aGlzLmN1cnJlbnRUaGVtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRoZW1lOwogICAgICAgIHRoaXMuY3VycmVudFRoZW1lTmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRoZW1lICsgIk5hbWUiOwogICAgICAgIHRoaXMucmVuZXdTZWFyY2hpbmdSZXN1bHRzKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLmdvKCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbFNwb3RzT2ZDdXJyZW50VGhlbWU6IGZ1bmN0aW9uIGdldEFsbFNwb3RzT2ZDdXJyZW50VGhlbWUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzID0gX3RoaXMyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0U3BvdHNGcm9tVGR4KHsKICAgICAgICAgICAgICAgICAgYXBpVHlwZTogX3RoaXMuY3VycmVudFRoZW1lLAogICAgICAgICAgICAgICAgICBvcmRlcmJ5OiBbIlNyY1VwZGF0ZVRpbWUgZGVzYyJdCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQuc2VudCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvcmdhbml6ZUNhdGVnb3JpZXNPZkN1cnJlbnRUaGVtZTogZnVuY3Rpb24gb3JnYW5pemVDYXRlZ29yaWVzT2ZDdXJyZW50VGhlbWUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcyA9IF90aGlzMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRBbGxTcG90c09mQ3VycmVudFRoZW1lKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLmFsbFNwb3RzT2ZDdXJyZW50VGhlbWUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMy5yZXN1bHRTcG90c0xpc3QgPSBfdGhpcy5hbGxTcG90c09mQ3VycmVudFRoZW1lOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFsbFNwb3RzT2ZDdXJyZW50VGhlbWUuZm9yRWFjaChmdW5jdGlvbiAoc3BvdE9mQ3VycmVudFRoZW1lKSB7CiAgICAgICAgICAgICAgICAgIC8vIOaVtOeQhuipsuaZr+m7nueahOmhnuWIpQogICAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcmllc09mU3BvdCA9IFtzcG90T2ZDdXJyZW50VGhlbWUuQ2xhc3MsIHNwb3RPZkN1cnJlbnRUaGVtZS5DbGFzczEsIHNwb3RPZkN1cnJlbnRUaGVtZS5DbGFzczIsIHNwb3RPZkN1cnJlbnRUaGVtZS5DbGFzczNdOwogICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzT2ZTcG90LmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYXRlZ29yeSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5QWxyZWFkeVNhdmVkSW5DdXJyZW50VGhlbWVDYXRlZ29yaWVzID0gX3RoaXMuYWxsQ2F0ZWdvcmllc09mQ3VycmVudFRoZW1lLmZpbmQoZnVuY3Rpb24gKGNhdGVnb3J5T2ZDdXJyZW50VGhlbWUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYXRlZ29yeU9mQ3VycmVudFRoZW1lLm5hbWUgPT09IGNhdGVnb3J5OwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlBbHJlYWR5U2F2ZWRJbkN1cnJlbnRUaGVtZUNhdGVnb3JpZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5QWxyZWFkeVNhdmVkSW5DdXJyZW50VGhlbWVDYXRlZ29yaWVzLnNwb3RzLnB1c2goc3BvdE9mQ3VycmVudFRoZW1lKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWxsQ2F0ZWdvcmllc09mQ3VycmVudFRoZW1lLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBjYXRlZ29yeSwKICAgICAgICAgICAgICAgICAgICAgICAgc3BvdHM6IFtzcG90T2ZDdXJyZW50VGhlbWVdCiAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIC8vIOiuk+avj+WAi+mhnuWIpemDveacieS7o+ihqOeahOS4gOW8teeFp+eJhwogICAgICAgICAgICAgICAgX3RoaXMuYWxsQ2F0ZWdvcmllc09mQ3VycmVudFRoZW1lLmZvckVhY2goZnVuY3Rpb24gKGNhdGVnb3J5T2ZDdXJyZW50VGhlbWUpIHsKICAgICAgICAgICAgICAgICAgdmFyIHNwb3RXaXRoSW1nID0gY2F0ZWdvcnlPZkN1cnJlbnRUaGVtZS5zcG90cy5maW5kKGZ1bmN0aW9uIChzcG90KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwb3QuUGljdHVyZS5QaWN0dXJlVXJsMTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIGNhdGVnb3J5T2ZDdXJyZW50VGhlbWUuaW1nVXJsID0gc3BvdFdpdGhJbWcgPyBzcG90V2l0aEltZy5QaWN0dXJlLlBpY3R1cmVVcmwxIDogX3RoaXMuYmFja3VwSW1nOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW5ld1JvdXRlclF1ZXJ5OiBmdW5jdGlvbiByZW5ld1JvdXRlclF1ZXJ5KF9yZWYpIHsKICAgICAgdmFyIF9yZWYkcXVlcnkgPSBfcmVmLnF1ZXJ5LAogICAgICAgICAgcXVlcnkgPSBfcmVmJHF1ZXJ5ID09PSB2b2lkIDAgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuJHJvdXRlLnF1ZXJ5KSkgOiBfcmVmJHF1ZXJ5LAogICAgICAgICAgX3JlZiRjaXR5ID0gX3JlZi5jaXR5LAogICAgICAgICAgY2l0eSA9IF9yZWYkY2l0eSA9PT0gdm9pZCAwID8gcXVlcnkuY2l0eSA6IF9yZWYkY2l0eSwKICAgICAgICAgIF9yZWYkY2F0ZWdvcnkgPSBfcmVmLmNhdGVnb3J5LAogICAgICAgICAgY2F0ZWdvcnkgPSBfcmVmJGNhdGVnb3J5ID09PSB2b2lkIDAgPyBxdWVyeS5jYXRlZ29yeSA6IF9yZWYkY2F0ZWdvcnksCiAgICAgICAgICBfcmVmJGtleXdvcmRzID0gX3JlZi5rZXl3b3JkcywKICAgICAgICAgIGtleXdvcmRzID0gX3JlZiRrZXl3b3JkcyA9PT0gdm9pZCAwID8gcXVlcnkua2V5d29yZHMgOiBfcmVmJGtleXdvcmRzOwoKICAgICAgaWYgKGNpdHkgJiYgT2JqZWN0LmtleXMoY2l0eSkubGVuZ3RoID4gMCkgewogICAgICAgIHF1ZXJ5LmNpdHkgPSBjaXR5LkNpdHkgfHwgY2l0eTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxldGUgcXVlcnkuY2l0eTsKICAgICAgfQoKICAgICAgaWYgKGNhdGVnb3J5KSB7CiAgICAgICAgcXVlcnkuY2F0ZWdvcnkgPSBjYXRlZ29yeTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkZWxldGUgcXVlcnkuY2F0ZWdvcnk7CiAgICAgIH0KCiAgICAgIGlmIChrZXl3b3JkcykgewogICAgICAgIHF1ZXJ5LmtleXdvcmRzID0ga2V5d29yZHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGVsZXRlIHF1ZXJ5LmtleXdvcmRzOwogICAgICB9CgogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgIH0pOwogICAgfSwKICAgIHJlbmV3U2VhcmNoaW5nUmVzdWx0czogZnVuY3Rpb24gcmVuZXdTZWFyY2hpbmdSZXN1bHRzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBxdWVyeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLiRyb3V0ZS5xdWVyeSkpOwogICAgICB2YXIgcXVlcnlDaXR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBxdWVyeS5jaXR5OwogICAgICB2YXIgcXVlcnlDYXRlZ29yeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogcXVlcnkuY2F0ZWdvcnk7CiAgICAgIHZhciBrZXl3b3JkcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogcXVlcnkua2V5d29yZHM7CiAgICAgIHRoaXMuY3VycmVudENpdHkgPSB7fTsKCiAgICAgIGlmIChxdWVyeUNpdHkpIHsKICAgICAgICB2YXIgY2l0eSA9IHRoaXMuY2l0eUxpc3QuZmluZChmdW5jdGlvbiAoY2l0eSkgewogICAgICAgICAgcmV0dXJuIGNpdHkuQ2l0eSA9PT0gcXVlcnlDaXR5OwogICAgICAgIH0pOwogICAgICAgIHRoaXMuY3VycmVudENpdHkgPSBjaXR5OwogICAgICB9CgogICAgICB0aGlzLnJlc3VsdFNwb3RzTGlzdCA9IHRoaXMuYWxsU3BvdHNPZkN1cnJlbnRUaGVtZS5maWx0ZXIoZnVuY3Rpb24gKHNwb3QpIHsKICAgICAgICB2YXIgc2FtZUNpdHkgPSB0cnVlOwogICAgICAgIHZhciBzYW1lQ2F0ZWdvcnkgPSB0cnVlOwogICAgICAgIHZhciBpbmNsdWRlS2V5d29yZHMgPSB0cnVlOwoKICAgICAgICBpZiAoT2JqZWN0LmtleXMoX3RoaXM0LmN1cnJlbnRDaXR5KS5sZW5ndGgpIHsKICAgICAgICAgIHNhbWVDaXR5ID0gc3BvdC5DaXR5ID8gc3BvdC5DaXR5ID09PSBfdGhpczQuY3VycmVudENpdHkuQ2l0eU5hbWUgOiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlmIChxdWVyeUNhdGVnb3J5KSB7CiAgICAgICAgICBzd2l0Y2ggKF90aGlzNC5jdXJyZW50VGhlbWUpIHsKICAgICAgICAgICAgY2FzZSAiU2NlbmljU3BvdCI6CiAgICAgICAgICAgICAgc2FtZUNhdGVnb3J5ID0gc3BvdC5DbGFzczEgPT09IHF1ZXJ5Q2F0ZWdvcnkgfHwgc3BvdC5DbGFzczIgPT09IHF1ZXJ5Q2F0ZWdvcnkgfHwgc3BvdC5DbGFzczMgPT09IHF1ZXJ5Q2F0ZWdvcnk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJSZXN0YXVyYW50IjoKICAgICAgICAgICAgICBzYW1lQ2F0ZWdvcnkgPSBzcG90LkNsYXNzID09PSBxdWVyeUNhdGVnb3J5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAiQWN0aXZpdHkiOgogICAgICAgICAgICAgIHNhbWVDYXRlZ29yeSA9IHNwb3QuQ2xhc3MxID09PSBxdWVyeUNhdGVnb3J5IHx8IHNwb3QuQ2xhc3MyID09PSBxdWVyeUNhdGVnb3J5OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGtleXdvcmRzKSB7CiAgICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChrZXl3b3Jkcyk7CiAgICAgICAgICBpbmNsdWRlS2V5d29yZHMgPSByZWcudGVzdChzcG90W190aGlzNC5jdXJyZW50VGhlbWVOYW1lXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gc2FtZUNpdHkgJiYgc2FtZUNhdGVnb3J5ICYmIGluY2x1ZGVLZXl3b3JkczsKICAgICAgfSk7CiAgICAgIHRoaXMuc2hvd1Jlc3VsdHMgPSB0cnVlOwogICAgfSwKICAgIHJlcGxhY2VSb3V0ZXJCeU5ld0NpdHlBbmRDYXRlZ29yeTogZnVuY3Rpb24gcmVwbGFjZVJvdXRlckJ5TmV3Q2l0eUFuZENhdGVnb3J5KF9yZWYyKSB7CiAgICAgIHZhciBfcmVmMiRjaXR5ID0gX3JlZjIuY2l0eSwKICAgICAgICAgIGNpdHkgPSBfcmVmMiRjaXR5ID09PSB2b2lkIDAgPyB0aGlzLiRyb3V0ZS5xdWVyeS5jaXR5IDogX3JlZjIkY2l0eSwKICAgICAgICAgIF9yZWYyJGNhdGVnb3J5ID0gX3JlZjIuY2F0ZWdvcnksCiAgICAgICAgICBjYXRlZ29yeSA9IF9yZWYyJGNhdGVnb3J5ID09PSB2b2lkIDAgPyB0aGlzLiRyb3V0ZS5xdWVyeS5jYXRlZ29yeSA6IF9yZWYyJGNhdGVnb3J5OwogICAgICB2YXIgdXJsUXVlcnkgPSB0aGlzLnNldENpdHlQYXJhbWV0ZXJGb3JUZHhBcGkoewogICAgICAgIGl0ZW06IGNpdHkKICAgICAgfSk7CiAgICAgIHVybFF1ZXJ5ID0gdGhpcy5zZXRDbGFzc1BhcmFtZXRlckZvclRkeEFwaSh7CiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgIHF1ZXJ5OiB1cmxRdWVyeQogICAgICB9KTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgIHF1ZXJ5OiB1cmxRdWVyeQogICAgICB9KTsKICAgIH0sCiAgICAvLyDkvb/nlKjogIXpgbjmk4fnmoTln47luIIKICAgIHNldENpdHlQYXJhbWV0ZXJGb3JUZHhBcGk6IGZ1bmN0aW9uIHNldENpdHlQYXJhbWV0ZXJGb3JUZHhBcGkoX3JlZjMpIHsKICAgICAgdmFyIF9yZWYzJGl0ZW0gPSBfcmVmMy5pdGVtLAogICAgICAgICAgaXRlbSA9IF9yZWYzJGl0ZW0gPT09IHZvaWQgMCA/ICIiIDogX3JlZjMkaXRlbSwKICAgICAgICAgIF9yZWYzJHF1ZXJ5ID0gX3JlZjMucXVlcnksCiAgICAgICAgICBxdWVyeSA9IF9yZWYzJHF1ZXJ5ID09PSB2b2lkIDAgPyBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuJHJvdXRlLnF1ZXJ5KSkgOiBfcmVmMyRxdWVyeTsKCiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgdmFyIGNpdHkgPSB0aGlzLmNpdHlMaXN0LmZpbmQoZnVuY3Rpb24gKGNpdHkpIHsKICAgICAgICAgIHJldHVybiBjaXR5LkNpdHkgPT09IGl0ZW0gfHwgY2l0eS5DaXR5TmFtZSA9PT0gaXRlbTsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygiY2l0eSIsIGNpdHksICJpdGVtIiwgaXRlbSwgInRoaXMuY2l0eUxpc3QiLCB0aGlzLmNpdHlMaXN0KTsKICAgICAgICB0aGlzLmN1cnJlbnRDaXR5ID0gY2l0eTsKICAgICAgICB0aGlzLmFwaVBhcmFtZXRlcnMuY2l0eSA9IGl0ZW0uQ2l0eSA/IGl0ZW0uQ2l0eSA6IGl0ZW07CiAgICAgICAgcXVlcnkuY2l0eSA9IHRoaXMuYXBpUGFyYW1ldGVycy5jaXR5OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXBpUGFyYW1ldGVycy5jaXR5ID0gIiI7CiAgICAgICAgZGVsZXRlIHF1ZXJ5LmNpdHk7CiAgICAgIH0KCiAgICAgIHJldHVybiBxdWVyeTsKICAgIH0sCiAgICAvLyDkvb/nlKjogIXpgbjmk4fnmoTpoZ7liKUKICAgIHNldENsYXNzUGFyYW1ldGVyRm9yVGR4QXBpOiBmdW5jdGlvbiBzZXRDbGFzc1BhcmFtZXRlckZvclRkeEFwaShfcmVmNCkgewogICAgICB2YXIgX3JlZjQkY2F0ZWdvcnkgPSBfcmVmNC5jYXRlZ29yeSwKICAgICAgICAgIGNhdGVnb3J5ID0gX3JlZjQkY2F0ZWdvcnkgPT09IHZvaWQgMCA/ICIiIDogX3JlZjQkY2F0ZWdvcnksCiAgICAgICAgICBfcmVmNCRxdWVyeSA9IF9yZWY0LnF1ZXJ5LAogICAgICAgICAgcXVlcnkgPSBfcmVmNCRxdWVyeSA9PT0gdm9pZCAwID8gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLiRyb3V0ZS5xdWVyeSkpIDogX3JlZjQkcXVlcnk7CgogICAgICBpZiAoY2F0ZWdvcnkpIHsKICAgICAgICBxdWVyeS5jYXRlZ29yeSA9IGNhdGVnb3J5OyAvLyDlm6DngrrkuI3lkIzkuLvpoYznmoQgYXBpIHVybCDmoLzlvI/kuI3lkIwKCiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRUaGVtZSkgewogICAgICAgICAgY2FzZSAiU2NlbmljU3BvdCI6CiAgICAgICAgICAgIHRoaXMuYXBpUGFyYW1ldGVyc1siZmlsdGVyIl0gPSBbIkNsYXNzMSUyMGVxJTIwJyIuY29uY2F0KGNhdGVnb3J5LCAiJyUyMG9yJTIwQ2xhc3MyJTIwZXElMjAnIikuY29uY2F0KGNhdGVnb3J5LCAiJyUyMG9yJTIwQ2xhc3MzJTIwZXElMjAnIikuY29uY2F0KGNhdGVnb3J5LCAiJyIpXTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAiUmVzdGF1cmFudCI6CiAgICAgICAgICAgIHRoaXMuYXBpUGFyYW1ldGVyc1siZmlsdGVyIl0gPSBbIkNsYXNzJTIwZXElMjAnIi5jb25jYXQoY2F0ZWdvcnksICInIildOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICJBY3Rpdml0eSI6CiAgICAgICAgICAgIHRoaXMuYXBpUGFyYW1ldGVyc1siZmlsdGVyIl0gPSBbIkNsYXNzMSUyMGVxJTIwJyIuY29uY2F0KGNhdGVnb3J5LCAiJyUyMG9yJTIwQ2xhc3MyJTIwZXElMjAnIikuY29uY2F0KGNhdGVnb3J5LCAiJyIpXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXBpUGFyYW1ldGVyc1siZmlsdGVyIl0gPSBbXTsKICAgICAgICBkZWxldGUgcXVlcnkuY2F0ZWdvcnk7CiAgICAgIH0KCiAgICAgIHJldHVybiBxdWVyeTsKICAgIH0sCiAgICAvLyDnlbbkvb/nlKjogIXmjInkuIvmkJzlsIvpjbXlvozvvIzlj5blvpfmkJzlsIvntZDmnpwKICAgIGdldFNlYXJjaGluZ1Jlc3VsdHM6IGZ1bmN0aW9uIGdldFNlYXJjaGluZ1Jlc3VsdHMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF90aGlzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMgPSBfdGhpczU7CiAgICAgICAgICAgICAgICBfdGhpczUuc3RhZ2VPZlJlc3VsdFNob3dpbmcgPSAxOwogICAgICAgICAgICAgICAgX3RoaXM1LmFwaVBhcmFtZXRlcnNbImFwaVR5cGUiXSA9IF90aGlzNS5jdXJyZW50VGhlbWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0U3BvdHNGcm9tVGR4KF90aGlzLmFwaVBhcmFtZXRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczUucmVzdWx0U3BvdHNMaXN0ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpczUuc2hvd1Jlc3VsdHMgPSB0cnVlOwoKICAgICAgICAgICAgICAgIF90aGlzNS5maWx0ZXJTcG90c0J5S2V5d29yZCh7fSk7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInRoaXMucmVzdWx0U3BvdHNMaXN0IiwgX3RoaXM1LnJlc3VsdFNwb3RzTGlzdCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZpbHRlclNwb3RzQnlLZXl3b3JkOiBmdW5jdGlvbiBmaWx0ZXJTcG90c0J5S2V5d29yZChfcmVmNSkgewogICAgICB2YXIgX3JlZjUka2V5d29yZHMgPSBfcmVmNS5rZXl3b3JkcywKICAgICAgICAgIGtleXdvcmRzID0gX3JlZjUka2V5d29yZHMgPT09IHZvaWQgMCA/IHRoaXMua2V5d29yZHMgOiBfcmVmNSRrZXl3b3JkczsKICAgICAgY29uc29sZS5sb2coImZpbHRlclNwb3RzQnlLZXl3b3JkIik7IC8vIGlmKCFrZXl3b3JkcykKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChrZXl3b3Jkcyk7CiAgICAgIGNvbnNvbGUubG9nKHJlZyk7CiAgICAgIHRoaXMucmVzdWx0U3BvdHNMaXN0ID0gdGhpcy5yZXN1bHRTcG90c0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChzcG90KSB7CiAgICAgICAgcmV0dXJuIHJlZy50ZXN0KHNwb3RbX3RoaXMuY3VycmVudFRoZW1lTmFtZV0pOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VhcmNoaW5nRm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hpbmdGb3JtIik7CiAgICB2YXIgbGF0ZXN0U2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZICsgMTA7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoX3RoaXMuc2hvd1Jlc3VsdHMgJiYgd2luZG93LnNjcm9sbFkgKyB3aW5kb3cuaW5uZXJIZWlnaHQgPj0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYm9keSIpLmNsaWVudEhlaWdodCAtIDEwKSB7CiAgICAgICAgX3RoaXMuc3RhZ2VPZlJlc3VsdFNob3dpbmcgKz0gMTsKICAgICAgfSAvLyBjb25zb2xlLmxvZygKICAgICAgLy8gICAid2luZG93LnNjcm9sbFkiLAogICAgICAvLyAgIHdpbmRvdy5zY3JvbGxZLAogICAgICAvLyAgICIgd2luZG93LmlubmVySGVpZ2h0IiwKICAgICAgLy8gICB3aW5kb3cuaW5uZXJIZWlnaHQsCiAgICAgIC8vICAgImRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYm9keSkuY2xpZW50SGVpZ2h0IiwKICAgICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJib2R5IikuY2xpZW50SGVpZ2h0CiAgICAgIC8vICk7CgoKICAgICAgY29uc29sZS5sb2coIndpbmRvdy5zY3JvbGxZKzEwPD1sYXRlc3RTY3JvbGxZIiwgd2luZG93LnNjcm9sbFkgKyAxMCwgbGF0ZXN0U2Nyb2xsWSk7CgogICAgICBpZiAod2luZG93LnNjcm9sbFkgPD0gbGF0ZXN0U2Nyb2xsWSkgewogICAgICAgIHNlYXJjaGluZ0Zvcm0uc3R5bGUudG9wID0gIjBweCI7IC8vIHNlYXJjaGluZ0Zvcm0uY2xhc3NMaXN0LmFkZCgnY2xhc3MnLCAndmlzaWJsZScpCiAgICAgICAgLy8gc2VhcmNoaW5nRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdjbGFzcycsICd0b3BOZWdhdGl2ZTMwMCcpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VhcmNoaW5nRm9ybS5zdHlsZS50b3AgPSAiLTMwMHB4IjsgLy8gc2VhcmNoaW5nRm9ybS5jbGFzc0xpc3QuYWRkKCdjbGFzcycsICd0b3BOZWdhdGl2ZTMwMCcpCiAgICAgICAgLy8gc2VhcmNoaW5nRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdjbGFzcycsICd2aXNpYmxlJykKICAgICAgICAvLyBzZWFyY2hpbmdGb3JtLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnaW52aXNpYmxlJykKICAgICAgICAvLyBzZWFyY2hpbmdGb3JtLmNsYXNzTGlzdC50b2dnbGUoJ2ludmlzaWJsZScpCiAgICAgIH0KCiAgICAgIGxhdGVzdFNjcm9sbFkgPSB3aW5kb3cuc2Nyb2xsWTsKICAgIH0pOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgX3RoaXM7CgogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzID0gX3RoaXM2OyAvLyDlj5blvpflj7DngaPmiYDmnInnmoTnuKPluILlkI3nqLEKCiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRDaXR5TGlzdCgpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF90aGlzLmNpdHlMaXN0ID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vcmdhbml6ZUNhdGVnb3JpZXNPZkN1cnJlbnRUaGVtZSgpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGlmIChfdGhpczYuJHJvdXRlLnF1ZXJ5LmxhdCkgewogICAgICAgICAgICAgICAgX3RoaXM2LmFwaVBhcmFtZXRlcnNbInNwYXRpYWxGaWx0ZXIiXSA9IFsibmVhcmJ5KCIuY29uY2F0KF90aGlzNi4kcm91dGUucXVlcnkubGF0LCAiLCIpLmNvbmNhdChfdGhpczYuJHJvdXRlLnF1ZXJ5LmxvbiwgIiwxMDAwKSIpXTsKCiAgICAgICAgICAgICAgICBfdGhpczYuZ2V0U2VhcmNoaW5nUmVzdWx0cygpOwoKICAgICAgICAgICAgICAgIF90aGlzNi5hcGlQYXJhbWV0ZXJzID0ge307CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczYuJHJvdXRlLnF1ZXJ5LmNpdHkgfHwgX3RoaXM2LiRyb3V0ZS5xdWVyeS5jYXRlZ29yeSB8fCBfdGhpczYuJHJvdXRlLnF1ZXJ5LmtleXdvcmRzKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczYuJHJvdXRlLnF1ZXJ5KTsgLy8gdGhpcy5yZXBsYWNlUm91dGVyQnlOZXdDaXR5QW5kQ2F0ZWdvcnkoeyBjaXR5OiB0aGlzLiRyb3V0ZS5xdWVyeS5jaXR5IH0pOwogICAgICAgICAgICAgICAgLy8gdGhpcy5nZXRTZWFyY2hpbmdSZXN1bHRzKCk7CgogICAgICAgICAgICAgICAgX3RoaXM2LnJlbmV3U2VhcmNoaW5nUmVzdWx0cygpOwogICAgICAgICAgICAgIH0gLy8gZWxzZSBpZiAodGhpcy4kcm91dGUucXVlcnkua2V5d29yZHMpIHsKICAgICAgICAgICAgICAvLyAgIHRoaXMua2V5d29yZHMgPSB0aGlzLiRyb3V0ZS5xdWVyeS5rZXl3b3JkczsKICAgICAgICAgICAgICAvLyAgIHRoaXMuZ2V0U2VhcmNoaW5nUmVzdWx0cygpOwogICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAvLyBpZiAodGhpcy4kcm91dGUucXVlcnkua2V5d29yZHMpIHsKICAgICAgICAgICAgICAvLyAgIHRoaXMuZmlsdGVyU3BvdHNCeUtleXdvcmQoKTsKICAgICAgICAgICAgICAvLyB9CgoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/src/views/searching.vue"],"names":[],"mappings":"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","sourcesContent":["<template class=\"\">\n  <!-- vue loading overlay - start -->\n  <loading\n    v-model:active=\"isLoading\"\n    :can-cancel=\"true\"\n    :is-full-page=\"fullPage\"\n  />\n  <!-- vue loading overlay - end -->\n\n  <section\n    id=\"searchingForm\"\n    class=\"\n      container\n      pt-2\n      sticky-top\n      bg-white\n      mb-2 mb-md-3dot75\n      transitionSmooth\n    \"\n  >\n    <!-- Breadcrumb - start -->\n    <Breadcrumb\n      class=\"mb-1 mb-lg-2dot5\"\n      :apiType=\"currentTheme\"\n      :city=\"currentCity\"\n      :category=\"this.$route.query.category\"\n    />\n    <!-- Breadcrumb - end -->\n    <!-- searching bar - start -->\n    <div class=\"row\">\n      <!-- 縣市 - start -->\n      <div class=\"col-12 col-lg-3\">\n        <div class=\"dropdown mb-0dot5\">\n          <button\n            class=\"\n              btn btn-lg btn-outline-primary\n              border-gray\n              dropdown-toggle\n              w-100\n              fw-bold\n              d-flex\n              justify-content-between\n              align-items-center\n              px-2\n              py-0dot75\n              fs-6\n            \"\n            type=\"button\"\n            id=\"dropdownMenuButton1\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            {{ currentCity.CityName || \"選擇縣市\" }}\n          </button>\n          <ul\n            class=\"\n              dropdown-menu\n              w-100\n              maxHeight50vh\n              overflow-scroll\n              mt-0dot5\n              p-0\n              cursorPointer\n            \"\n            aria-labelledby=\"dropdownMenuButton1\"\n          >\n            <li v-if=\"this.$route.query.city\">\n              <a\n                @click=\"renewRouterQuery({ city: {} })\"\n                class=\"dropdown-item py-0dot75 px-2\"\n                >選擇縣市</a\n              >\n              <hr class=\"dropdown-divider m-0\" />\n            </li>\n            <li v-for=\"(item, i) in cityList\" :key=\"i\">\n              <hr v-if=\"i !== 0\" class=\"dropdown-divider m-0\" />\n              <a\n                @click=\"\n                  renewRouterQuery({\n                    city: item,\n                  })\n                \"\n                class=\"dropdown-item py-0dot75 px-2\"\n                >{{ item.CityName }}</a\n              >\n            </li>\n          </ul>\n        </div>\n      </div>\n      <!-- 縣市 - end -->\n      <!-- 類別 - start -->\n      <div class=\"col-12 col-lg-3\">\n        <div class=\"dropdown mb-0dot5\">\n          <button\n            class=\"\n              btn btn-lg btn-outline-primary\n              border-gray\n              dropdown-toggle\n              w-100\n              fw-bold\n              d-flex\n              justify-content-between\n              align-items-center\n              px-2\n              py-0dot75\n              fs-6\n            \"\n            type=\"button\"\n            id=\"dropdownMenuButton1\"\n            data-bs-toggle=\"dropdown\"\n            aria-expanded=\"false\"\n          >\n            {{ this.$route.query.category || \"選擇類別\" }}\n          </button>\n          <ul\n            class=\"\n              dropdown-menu\n              w-100\n              maxHeight50vh\n              overflow-scroll\n              mt-0dot5\n              p-0\n              cursorPointer\n            \"\n            aria-labelledby=\"dropdownMenuButton1\"\n          >\n            <li v-if=\"this.$route.query.category\">\n              <a\n                @click=\"renewRouterQuery({ category: '' })\"\n                class=\"dropdown-item py-0dot75 px-2\"\n                >選擇類別</a\n              >\n              <hr class=\"dropdown-divider m-0\" />\n            </li>\n            <li v-for=\"(item, i) in allCategoriesOfCurrentTheme\" :key=\"i\">\n              <hr v-if=\"i !== 0\" class=\"dropdown-divider m-0\" />\n              <a\n                @click=\"renewRouterQuery({ category: item.name })\"\n                class=\"dropdown-item py-0dot75 px-2\"\n                >{{ item.name }}</a\n              >\n            </li>\n          </ul>\n        </div>\n      </div>\n      <!-- 類別 - end -->\n      <!-- keywords - start -->\n      <div class=\"col-12 col-lg-4\">\n        <input\n          class=\"\n            form-control form-control-lg\n            bg-gray-light\n            px-2\n            py-0dot75\n            mb-0dot5\n            focusPrimary\n            fs-6\n          \"\n          type=\"text\"\n          placeholder=\"你想去哪裡？請輸入關鍵字\"\n          aria-label=\"搜尋欄，請填入關鍵字進行搜尋\"\n          v-model=\"keywords\"\n          @keyup.enter=\"renewRouterQuery({ keywords: keywords })\"\n        />\n      </div>\n      <!-- keywords - end -->\n      <div class=\"col-12 col-lg-2 d-none d-lg-block\">\n        <button\n          @click=\"replaceRouterByNewCityAndCategory({})\"\n          class=\"\n            btn btn-primary\n            w-100\n            btn-lg\n            text-white\n            fs-6\n            d-flex\n            justify-content-around\n          \"\n          type=\"submit\"\n        >\n          <span class=\"material-icons align-text-top\"> search </span>\n          <p class=\"letterSpacingLg\">搜尋</p>\n        </button>\n      </div>\n    </div>\n    <!-- searching bar - end -->\n  </section>\n\n  <!-- allCategoriesOfCurrentTheme - start -->\n  <section v-if=\"!showResults\" class=\"container pb-5 pb-md-0dot75\">\n    <h2 class=\"fs-4 fsLg1dot5 fw-normal m-0 mb-0dot5 mb-lg-0dot75\">熱門分類</h2>\n    <div class=\"row\">\n      <div\n        class=\"col-6 col-lg-3 mb-0dot75\"\n        v-for=\"(item, i) in allCategoriesOfCurrentTheme\"\n        :key=\"i\"\n      >\n        <div\n          @click=\"replaceRouterByNewCityAndCategory({ category: item.name })\"\n          class=\"\n            w-100\n            paddingTop53Percent\n            paddingTopLg36Percent\n            position-relative\n            text-white\n            radius24px\n            overflow-hidden\n            cursorPointer\n          \"\n        >\n          <!-- 如果圖片網址無效，要用備用圖片 -->\n          <img\n            :src=\"backupImg\"\n            v-mainImg=\"item.imgUrl\"\n            :alt=\"item.name\"\n            class=\"\n              h-100\n              w-100\n              position-absolute\n              top-50\n              start-0\n              translate-middle-y\n              objectFitCover\n              brightnessOdot6\n            \"\n          />\n          <h6\n            class=\"\n              text-white\n              position-absolute\n              top-50\n              start-50\n              translate-middle\n              objectFitCover\n            \"\n          >\n            {{ item.name }}\n          </h6>\n        </div>\n      </div>\n    </div>\n  </section>\n  <!-- allCategoriesOfCurrentTheme - end -->\n  <!-- searching result - start -->\n  <section v-else class=\"container h-100 mb-0dot5 mb-lg-0dot75\">\n    <h2\n      class=\"fs-4 fsLg1dot5 fw-normal m-0\"\n      v-if=\"resultSpotsList.length === 0\"\n    >\n      Oops 暫無適合的搜尋結果\n    </h2>\n    <h2 class=\"fs-4 fsLg1dot5 fw-normal mb-1\" v-else>搜尋結果</h2>\n    <div class=\"row pb-4\">\n      <div\n        class=\"col-6 col-lg-3 mb-1dot25 mb-md-2dot25\"\n        v-for=\"(item, i) in resultSpotsList.slice(\n          0,\n          amountsOfSpotsDurningEachResultShowingStage * stageOfResultShowing\n        )\"\n        :key=\"i\"\n      >\n        <CardWithImgAndName\n          class=\"w-100\"\n          :apiType=\"$route.query.theme\"\n          :spotId=\"item.RestaurantID || item.ActivityID || item.ScenicSpotID\"\n          :imgUrl=\"item.Picture.PictureUrl1 || backupImg\"\n          :backupImg=\"backupImg\"\n          :spotName=\"\n            item.RestaurantName || item.ActivityName || item.ScenicSpotName\n          \"\n          :spotCity=\"\n            item.City\n              ? item.City\n              : item.Location\n              ? item.Location.slice(0, 3)\n              : item.Address\n              ? item.Address.slice(0, 3)\n              : ''\n          \"\n        />\n      </div>\n    </div>\n  </section>\n  <!-- searching result - end -->\n</template>\n<script>\n// 自製的 mixin\nimport getTdxDataMixin from \"@/mixins/getTdxDataMixin\";\nimport mainImg from \"@/mixins/directives/mainImg.js\";\n\n// components\nimport CardWithImgAndName from \"@/components/cardWithImgAndName.vue\";\nimport Breadcrumb from \"@/components/breadcrumb.vue\";\n\n// vue loading overlay\nimport Loading from \"vue-loading-overlay\";\nimport \"vue-loading-overlay/dist/vue-loading.css\";\n\nexport default {\n  name: \"first\",\n  components: { CardWithImgAndName, Breadcrumb, Loading },\n  mixins: [getTdxDataMixin, mainImg],\n  props: [\"apiType\", \"searchingParameters\"],\n  directives: {},\n  data() {\n    return {\n      currentTheme: this.$route.query.theme,\n      currentThemeName: this.$route.query.theme + \"Name\",\n      currentCity: {},\n\n      // vue loading overlay\n      isLoading: false,\n      fullPage: true,\n\n      // searching bar\n      cityList: [],\n      keywords: this.$route.query.keywords || \"\",\n\n      // spot data from TDX\n      apiParameters: {},\n      allSpotsOfCurrentTheme: [],\n      allCategoriesOfCurrentTheme: [],\n      resultSpotsList: [],\n      showResults: false,\n      amountsOfSpotsDurningEachResultShowingStage: 8,\n      stageOfResultShowing: 1,\n\n      // 如果圖片網址無效要用的備用圖片\n      backupImg: require(\"../assets/imgForNoImgurl.png\"),\n    };\n  },\n  watch: {\n    $route(from, to) {\n      if (from.query.theme === to.query.theme) {\n        this.currentTheme = this.$route.query.theme;\n        this.currentThemeName = this.$route.query.theme + \"Name\";\n        this.renewSearchingResults();\n      } else {\n        this.$router.go();\n      }\n    },\n  },\n  methods: {\n    async getAllSpotsOfCurrentTheme() {\n      var _this = this;\n      return await _this.getSpotsFromTdx({\n        apiType: _this.currentTheme,\n        orderby: [\"SrcUpdateTime desc\"],\n      });\n    },\n\n    async organizeCategoriesOfCurrentTheme() {\n      this.isLoading = true;\n      var _this = this;\n      _this.allSpotsOfCurrentTheme = await _this.getAllSpotsOfCurrentTheme();\n      (this.resultSpotsList = _this.allSpotsOfCurrentTheme),\n        await _this.allSpotsOfCurrentTheme.forEach(function (\n          spotOfCurrentTheme\n        ) {\n          // 整理該景點的類別\n          let categoriesOfSpot = [\n            spotOfCurrentTheme.Class,\n            spotOfCurrentTheme.Class1,\n            spotOfCurrentTheme.Class2,\n            spotOfCurrentTheme.Class3,\n          ];\n          categoriesOfSpot.forEach(function (category) {\n            if (!category) {\n              return;\n            }\n            let categoryAlreadySavedInCurrentThemeCategories =\n              _this.allCategoriesOfCurrentTheme.find(\n                (categoryOfCurrentTheme) => {\n                  return categoryOfCurrentTheme.name === category;\n                }\n              );\n            if (categoryAlreadySavedInCurrentThemeCategories) {\n              categoryAlreadySavedInCurrentThemeCategories.spots.push(\n                spotOfCurrentTheme\n              );\n            } else {\n              _this.allCategoriesOfCurrentTheme.push({\n                name: category,\n                spots: [spotOfCurrentTheme],\n              });\n            }\n          });\n        });\n\n      // 讓每個類別都有代表的一張照片\n      _this.allCategoriesOfCurrentTheme.forEach(function (\n        categoryOfCurrentTheme\n      ) {\n        let spotWithImg = categoryOfCurrentTheme.spots.find((spot) => {\n          return spot.Picture.PictureUrl1;\n        });\n        categoryOfCurrentTheme.imgUrl = spotWithImg\n          ? spotWithImg.Picture.PictureUrl1\n          : _this.backupImg;\n      });\n      _this.isLoading = false;\n    },\n\n    renewRouterQuery({\n      query = JSON.parse(JSON.stringify(this.$route.query)),\n      city = query.city,\n      category = query.category,\n      keywords = query.keywords,\n    }) {\n      if (city && Object.keys(city).length > 0) {\n        query.city = city.City || city;\n      } else {\n        delete query.city;\n      }\n\n      if (category) {\n        query.category = category;\n      } else {\n        delete query.category;\n      }\n\n      if (keywords) {\n        query.keywords = keywords;\n      } else {\n        delete query.keywords;\n      }\n\n      this.$router.replace({ query });\n    },\n    renewSearchingResults(\n      query = JSON.parse(JSON.stringify(this.$route.query)),\n      queryCity = query.city,\n      queryCategory = query.category,\n      keywords = query.keywords\n    ) {\n      this.currentCity = {};\n      if (queryCity) {\n        let city = this.cityList.find((city) => {\n          return city.City === queryCity;\n        });\n        this.currentCity = city;\n      }\n\n      this.resultSpotsList = this.allSpotsOfCurrentTheme.filter((spot) => {\n        let sameCity = true;\n        let sameCategory = true;\n        let includeKeywords = true;\n        if (Object.keys(this.currentCity).length) {\n          sameCity = spot.City\n            ? spot.City === this.currentCity.CityName\n            : false;\n        }\n        if (queryCategory) {\n          switch (this.currentTheme) {\n            case \"ScenicSpot\":\n              sameCategory =\n                spot.Class1 === queryCategory ||\n                spot.Class2 === queryCategory ||\n                spot.Class3 === queryCategory;\n              break;\n            case \"Restaurant\":\n              sameCategory = spot.Class === queryCategory;\n              break;\n            case \"Activity\":\n              sameCategory =\n                spot.Class1 === queryCategory || spot.Class2 === queryCategory;\n              break;\n          }\n        }\n        if (keywords) {\n          let reg = new RegExp(keywords);\n          includeKeywords = reg.test(spot[this.currentThemeName]);\n        }\n        return sameCity && sameCategory && includeKeywords;\n      });\n\n      this.showResults = true;\n    },\n\n    replaceRouterByNewCityAndCategory({\n      city = this.$route.query.city,\n      category = this.$route.query.category,\n    }) {\n      let urlQuery = this.setCityParameterForTdxApi({ item: city });\n\n      urlQuery = this.setClassParameterForTdxApi({\n        category: category,\n        query: urlQuery,\n      });\n      this.$router.replace({ query: urlQuery });\n    },\n\n    // 使用者選擇的城市\n    setCityParameterForTdxApi({\n      item = \"\",\n      query = JSON.parse(JSON.stringify(this.$route.query)),\n    }) {\n      if (item) {\n        let city = this.cityList.find((city) => {\n          return city.City === item || city.CityName === item;\n        });\n        console.log(\"city\", city, \"item\", item, \"this.cityList\", this.cityList);\n        this.currentCity = city;\n        this.apiParameters.city = item.City ? item.City : item;\n        query.city = this.apiParameters.city;\n      } else {\n        this.apiParameters.city = \"\";\n        delete query.city;\n      }\n      return query;\n    },\n\n    // 使用者選擇的類別\n    setClassParameterForTdxApi({\n      category = \"\",\n      query = JSON.parse(JSON.stringify(this.$route.query)),\n    }) {\n      if (category) {\n        query.category = category;\n        // 因為不同主題的 api url 格式不同\n        switch (this.currentTheme) {\n          case \"ScenicSpot\":\n            this.apiParameters[\"filter\"] = [\n              `Class1%20eq%20'${category}'%20or%20Class2%20eq%20'${category}'%20or%20Class3%20eq%20'${category}'`,\n            ];\n            break;\n          case \"Restaurant\":\n            this.apiParameters[\"filter\"] = [`Class%20eq%20'${category}'`];\n            break;\n          case \"Activity\":\n            this.apiParameters[\"filter\"] = [\n              `Class1%20eq%20'${category}'%20or%20Class2%20eq%20'${category}'`,\n            ];\n            break;\n        }\n      } else {\n        this.apiParameters[\"filter\"] = [];\n        delete query.category;\n      }\n      return query;\n    },\n\n    // 當使用者按下搜尋鍵後，取得搜尋結果\n    async getSearchingResults() {\n      // this.isLoading = true;\n      var _this = this;\n      this.stageOfResultShowing = 1;\n      this.apiParameters[\"apiType\"] = this.currentTheme;\n      this.resultSpotsList = await _this.getSpotsFromTdx(_this.apiParameters);\n      this.showResults = true;\n      this.filterSpotsByKeyword({});\n      console.log(\"this.resultSpotsList\", this.resultSpotsList);\n    },\n    filterSpotsByKeyword({ keywords = this.keywords }) {\n      console.log(\"filterSpotsByKeyword\");\n      // if(!keywords)\n      var _this = this;\n      var reg = new RegExp(keywords);\n      console.log(reg);\n      this.resultSpotsList = this.resultSpotsList.filter(function (spot) {\n        return reg.test(spot[_this.currentThemeName]);\n      });\n    },\n  },\n\n  mounted() {\n    let searchingForm = document.getElementById(\"searchingForm\");\n    let latestScrollY = window.scrollY + 10;\n    let _this = this;\n    window.addEventListener(\"scroll\", function () {\n      if (\n        _this.showResults &&\n        window.scrollY + window.innerHeight >=\n          document.querySelector(\"body\").clientHeight - 10\n      ) {\n        _this.stageOfResultShowing += 1;\n      }\n      // console.log(\n      //   \"window.scrollY\",\n      //   window.scrollY,\n      //   \" window.innerHeight\",\n      //   window.innerHeight,\n      //   \"document.querySelector(body).clientHeight\",\n      //   document.querySelector(\"body\").clientHeight\n      // );\n\n      console.log(\n        \"window.scrollY+10<=latestScrollY\",\n        window.scrollY + 10,\n        latestScrollY\n      );\n\n      if (window.scrollY <= latestScrollY) {\n        searchingForm.style.top = \"0px\";\n        // searchingForm.classList.add('class', 'visible')\n        // searchingForm.classList.remove('class', 'topNegative300')\n      } else {\n        searchingForm.style.top = \"-300px\";\n        // searchingForm.classList.add('class', 'topNegative300')\n        // searchingForm.classList.remove('class', 'visible')\n\n        // searchingForm.setAttribute('class', 'invisible')\n        // searchingForm.classList.toggle('invisible')\n      }\n      latestScrollY = window.scrollY;\n    });\n  },\n  async created() {\n    var _this = this;\n    // 取得台灣所有的縣市名稱\n    _this.cityList = await _this.getCityList();\n\n    // 如果進入搜尋頁面時，已有指定的搜尋參數\n    // 例如當使用者從 spotDetail 的 附近美食btn 點進來時\n    // 依據搜尋參數（例如美食與座標）取得搜尋結果\n    await _this.organizeCategoriesOfCurrentTheme();\n\n    if (this.$route.query.lat) {\n      this.apiParameters[\"spatialFilter\"] = [\n        `nearby(${this.$route.query.lat},${this.$route.query.lon},1000)`,\n      ];\n      this.getSearchingResults();\n      this.apiParameters = {};\n    } else if (\n      this.$route.query.city ||\n      this.$route.query.category ||\n      this.$route.query.keywords\n    ) {\n      console.log(this.$route.query);\n      // this.replaceRouterByNewCityAndCategory({ city: this.$route.query.city });\n      // this.getSearchingResults();\n      this.renewSearchingResults();\n    }\n\n    // else if (this.$route.query.keywords) {\n    //   this.keywords = this.$route.query.keywords;\n    //   this.getSearchingResults();\n    // }\n\n    // if (this.$route.query.keywords) {\n    //   this.filterSpotsByKeyword();\n    // }\n  },\n};\n</script>\n<style lang=\"scss\"></style>\n"],"sourceRoot":""}]}