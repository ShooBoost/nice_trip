{"remainingRequest":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/babel-loader/lib/index.js!/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/eslint-loader/index.js??ref--14-0!/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/src/mixins/getTdxDataMixin.js","dependencies":[{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/src/mixins/getTdxDataMixin.js","mtime":1646991470794},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/babel.config.js","mtime":1636355295900},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/cache-loader/dist/cjs.js","mtime":1636355256849},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/babel-loader/lib/index.js","mtime":1636355259083},{"path":"/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/node_modules/eslint-loader/index.js","mtime":1636355257165}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9saW55b3VuZ3NoaXUvTG9iYnkoT3dPKS9cdTY4NDhcdTVCNTAvXHU1MDBCXHU0RUJBXHU0RjVDXHU1NEMxXHVGRjVDXHU1MDVBXHU3QzIxXHU3RDA0XHU1OTdEXHU3M0E5XHU3Njg0XHU2NzcxXHU4OTdGL1x1NTkyN1x1OTFDRlx1N0RGNFx1N0ZEMlx1NzY4NFx1OTA0RVx1N0EwQi9cdTUyNERcdTdBRUYvaGFuZ19vdXRfdGFpd2FuL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQganNTSEEgZnJvbSAianNzaGEiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRkeERhdGE6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8gYXBpVHlwZSDngrogJ1NjZW5pY1Nwb3QnIOaIliAnUmVzdGF1cmFudCcg5oiWICdBY3Rpdml0eScKICAgIGdldFNwb3RBcGlVcmw6IGZ1bmN0aW9uIGdldFNwb3RBcGlVcmwoX3JlZikgewogICAgICB2YXIgX3JlZiRhcGlUeXBlID0gX3JlZi5hcGlUeXBlLAogICAgICAgICAgYXBpVHlwZSA9IF9yZWYkYXBpVHlwZSA9PT0gdm9pZCAwID8gIlNjZW5pY1Nwb3QiIDogX3JlZiRhcGlUeXBlLAogICAgICAgICAgX3JlZiRjaXR5ID0gX3JlZi5jaXR5LAogICAgICAgICAgY2l0eSA9IF9yZWYkY2l0eSA9PT0gdm9pZCAwID8gbnVsbCA6IF9yZWYkY2l0eSwKICAgICAgICAgIF9yZWYkc2VsZWN0ID0gX3JlZi5zZWxlY3QsCiAgICAgICAgICBzZWxlY3QgPSBfcmVmJHNlbGVjdCA9PT0gdm9pZCAwID8gW10gOiBfcmVmJHNlbGVjdCwKICAgICAgICAgIF9yZWYkZmlsdGVyID0gX3JlZi5maWx0ZXIsCiAgICAgICAgICBmaWx0ZXIgPSBfcmVmJGZpbHRlciA9PT0gdm9pZCAwID8gW10gOiBfcmVmJGZpbHRlciwKICAgICAgICAgIF9yZWYkb3JkZXJieSA9IF9yZWYub3JkZXJieSwKICAgICAgICAgIG9yZGVyYnkgPSBfcmVmJG9yZGVyYnkgPT09IHZvaWQgMCA/IFtdIDogX3JlZiRvcmRlcmJ5LAogICAgICAgICAgX3JlZiR0b3AgPSBfcmVmLnRvcCwKICAgICAgICAgIHRvcCA9IF9yZWYkdG9wID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkdG9wLAogICAgICAgICAgX3JlZiRza2lwID0gX3JlZi5za2lwLAogICAgICAgICAgc2tpcCA9IF9yZWYkc2tpcCA9PT0gdm9pZCAwID8gW10gOiBfcmVmJHNraXAsCiAgICAgICAgICBfcmVmJHNwYXRpYWxGaWx0ZXIgPSBfcmVmLnNwYXRpYWxGaWx0ZXIsCiAgICAgICAgICBzcGF0aWFsRmlsdGVyID0gX3JlZiRzcGF0aWFsRmlsdGVyID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkc3BhdGlhbEZpbHRlcjsKICAgICAgdmFyIGN1c3RvbVBhcmFtZXRlcnMgPSBbewogICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgIHZhbHVlTGlzdDogc2VsZWN0CiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAiZmlsdGVyIiwKICAgICAgICB2YWx1ZUxpc3Q6IGZpbHRlcgogICAgICB9LCB7CiAgICAgICAgdHlwZTogIm9yZGVyYnkiLAogICAgICAgIHZhbHVlTGlzdDogb3JkZXJieQogICAgICB9LCB7CiAgICAgICAgdHlwZTogInRvcCIsCiAgICAgICAgdmFsdWVMaXN0OiB0b3AKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJza2lwIiwKICAgICAgICB2YWx1ZUxpc3Q6IHNraXAKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJzcGF0aWFsRmlsdGVyIiwKICAgICAgICB2YWx1ZUxpc3Q6IHNwYXRpYWxGaWx0ZXIKICAgICAgfV07CiAgICAgIHZhciBhcGlQYXJhbWV0ZXJTdHJpbmcgPSAiIjsKICAgICAgdmFyIGFwaVBhcmFtZXRlckxpc3QgPSBbXTsgLy8gY29uc29sZS5sb2coImN1c3RvbVBhcmFtZXRlcnMiLCBjdXN0b21QYXJhbWV0ZXJzKQoKICAgICAgY3VzdG9tUGFyYW1ldGVycy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0udmFsdWVMaXN0Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgdmFyIGl0ZW1WYWx1ZSA9ICIiOwogICAgICAgICAgaXRlbVZhbHVlICs9ICIkIi5jb25jYXQoaXRlbS50eXBlLCAiPSIpOwogICAgICAgICAgaXRlbVZhbHVlICs9IGl0ZW0udmFsdWVMaXN0Lmxlbmd0aCA9PT0gMSA/IGl0ZW0udmFsdWVMaXN0WzBdIDogaXRlbS52YWx1ZUxpc3Quam9pbigiJTJDJTIwIik7CiAgICAgICAgICBhcGlQYXJhbWV0ZXJMaXN0LnB1c2goaXRlbVZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKGNpdHkpIHsKICAgICAgICBhcGlUeXBlICs9ICIvIi5jb25jYXQoY2l0eSk7CiAgICAgIH0KCiAgICAgIGlmIChhcGlQYXJhbWV0ZXJMaXN0Lmxlbmd0aCAhPT0gMCkgewogICAgICAgIGFwaVBhcmFtZXRlclN0cmluZyA9IGFwaVBhcmFtZXRlckxpc3Quam9pbigiJiIpOwogICAgICAgIGFwaVBhcmFtZXRlclN0cmluZyArPSAiJiI7CiAgICAgIH0KCiAgICAgIHZhciBhcGlVcmwgPSAiaHR0cHM6Ly9wdHgudHJhbnNwb3J0ZGF0YS50dy9NT1RDL3YyL1RvdXJpc20vIi5jb25jYXQoYXBpVHlwZSwgIj8iKS5jb25jYXQoYXBpUGFyYW1ldGVyU3RyaW5nLCAiJGZvcm1hdD1KU09OIik7IC8vIGNvbnNvbGUubG9nKCJhcGlVcmwiLCBhcGlVcmwpCgogICAgICByZXR1cm4gYXBpVXJsOwogICAgfSwKICAgIGdldEF1dGhvcml6YXRpb25IZWFkZXI6IGZ1bmN0aW9uIGdldEF1dGhvcml6YXRpb25IZWFkZXIoKSB7CiAgICAgIC8vICDloavlhaXoh6rlt7EgSUTjgIFLRVkg6ZaL5aeLCiAgICAgIHZhciBBcHBJRCA9ICI2ODgxYTZlMTljMzI0MDA4OWM5ZDhjYzg3ZjUyZjUyZSI7CiAgICAgIHZhciBBcHBLZXkgPSAiejI3NEl5VDAzTTJIaXhKWTVjQWJabi04Y2NzIjsgLy8gIOWhq+WFpeiHquW3sSBJROOAgUtFWSDntZDmnZ8KCiAgICAgIHZhciBHTVRTdHJpbmcgPSBuZXcgRGF0ZSgpLnRvR01UU3RyaW5nKCk7CiAgICAgIHZhciBTaGFPYmogPSBuZXcganNTSEEoIlNIQS0xIiwgIlRFWFQiKTsKICAgICAgU2hhT2JqLnNldEhNQUNLZXkoQXBwS2V5LCAiVEVYVCIpOwogICAgICBTaGFPYmoudXBkYXRlKCJ4LWRhdGU6ICIgKyBHTVRTdHJpbmcpOwogICAgICB2YXIgSE1BQyA9IFNoYU9iai5nZXRITUFDKCJCNjQiKTsKICAgICAgdmFyIEF1dGhvcml6YXRpb24gPSAiaG1hYyB1c2VybmFtZT1cIiIuY29uY2F0KEFwcElELCAiXCIsYWxnb3JpdGhtPVwiaG1hYy1zaGExXCIsaGVhZGVycz1cIngtZGF0ZVwiLHNpZ25hdHVyZT1cIiIpLmNvbmNhdChITUFDLCAiXCIiKTsKICAgICAgcmV0dXJuIHsKICAgICAgICBBdXRob3JpemF0aW9uOiBBdXRob3JpemF0aW9uLAogICAgICAgICJYLURhdGUiOiBHTVRTdHJpbmcKICAgICAgfTsKICAgIH0sCiAgICBnZXRTcG90c0Zyb21UZHg6IGZ1bmN0aW9uIGdldFNwb3RzRnJvbVRkeChhcGlUeXBlQW5kUGFyYW1ldGVycykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzLCBhcGlVcmwsIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMgPSBfdGhpczI7CiAgICAgICAgICAgICAgICBhcGlVcmwgPSBfdGhpcy5nZXRTcG90QXBpVXJsKGFwaVR5cGVBbmRQYXJhbWV0ZXJzKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCAvLyAkc2VsZWN0ICAgICBQaWN0dXJlLCBOYW1lLCBBZGRyZXNzLCBaaXBDb2RlCiAgICAgICAgICAgICAgICAvLyAkb3JkZXJieSAgICBTcmNVcGRhdGVUaW1lIGRlc2M7IOaOkuW6j+aMieeFp+izh+aWmeabtOaWsOaXpeacn+acgOaWsOeahOmWi+WniwogICAgICAgICAgICAgICAgLy8gJHRvcCAgICAgICAgMTI7IOWPliAxMiDnrYbos4fmlpkKICAgICAgICAgICAgICAgIC8vICRza2lwCSAgICAgMTA7IOi3s+mBjuWJjSAxMCDnrYbos4fmlpkKICAgICAgICAgICAgICAgIC8vIOWPluW+l+ingOWFieaZr+m7nuizh+aWmQogICAgICAgICAgICAgICAgLy8gImh0dHBzOi8vcHR4LnRyYW5zcG9ydGRhdGEudHcvTU9UQy92Mi9Ub3VyaXNtL1NjZW5pY1Nwb3Q/JHNlbGVjdD1QaWN0dXJlJTJDJTIwTmFtZSUyQyUyMEFkZHJlc3MlMkMlMjBaaXBDb2RlJiRvcmRlcmJ5PVNyY1VwZGF0ZVRpbWUlMjBkZXNjJiR0b3A9MTImJHNraXA9MTAmJGZvcm1hdD1KU09OIiwKICAgICAgICAgICAgICAgICIiLmNvbmNhdChhcGlVcmwpLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IF90aGlzMi5nZXRBdXRob3JpemF0aW9uSGVhZGVyKCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldENpdHlMaXN0OiBmdW5jdGlvbiBnZXRDaXR5TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgYXBpVXJsLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFwaVVybCA9ICJodHRwczovL2dpc3QubW90Yy5nb3YudHcvZ2lzdF9hcGkvVjMvTWFwL0Jhc2ljL0NpdHk/JGZvcm1hdD1KU09OIjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoYXBpVXJsLCB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IF90aGlzMy5nZXRBdXRob3JpemF0aW9uSGVhZGVyKCkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF9jb250ZXh0Mi5zZW50KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzEsIDEwXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRUZHhHZW9EYXRhOiBmdW5jdGlvbiBnZXRUZHhHZW9EYXRhKF9yZWYyKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF9yZWYyJGFwaVR5cGUsIGFwaVR5cGUsIF9yZWYyJGFkZHJlc3MsIGFkZHJlc3MsIF9yZWYyJGxvY1gsIGxvY1gsIF9yZWYyJGxvY1ksIGxvY1ksIGFwaVVybCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3JlZjIkYXBpVHlwZSA9IF9yZWYyLmFwaVR5cGUsIGFwaVR5cGUgPSBfcmVmMiRhcGlUeXBlID09PSB2b2lkIDAgPyAiR2VvQ29kZSIgOiBfcmVmMiRhcGlUeXBlLCBfcmVmMiRhZGRyZXNzID0gX3JlZjIuYWRkcmVzcywgYWRkcmVzcyA9IF9yZWYyJGFkZHJlc3MgPT09IHZvaWQgMCA/ICIiIDogX3JlZjIkYWRkcmVzcywgX3JlZjIkbG9jWCA9IF9yZWYyLmxvY1gsIGxvY1ggPSBfcmVmMiRsb2NYID09PSB2b2lkIDAgPyAiIiA6IF9yZWYyJGxvY1gsIF9yZWYyJGxvY1kgPSBfcmVmMi5sb2NZLCBsb2NZID0gX3JlZjIkbG9jWSA9PT0gdm9pZCAwID8gIiIgOiBfcmVmMiRsb2NZOwogICAgICAgICAgICAgICAgLy8gYXBpVHlwZSDngrogR2VvQ29kZSBvciBHZW9Mb2NhdGluZwogICAgICAgICAgICAgICAgYXBpVXJsID0gIiI7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBhcGlUeXBlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSBfY29udGV4dDMudDAgPT09ICJHZW9Db2RlIiA/IDUgOiBfY29udGV4dDMudDAgPT09ICJHZW9Mb2NhdGluZyIgPyA3IDogOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBhcGlVcmwgPSAiaHR0cHM6Ly9naXN0Lm1vdGMuZ292LnR3L2dpc3RfYXBpL1YzL01hcC9HZW9Db2RlL0Nvb3JkaW5hdGUvQWRkcmVzcy8iLmNvbmNhdChhZGRyZXNzKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJicmVhayIsIDkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBhcGlVcmwgPSAiaHR0cHM6Ly9naXN0Lm1vdGMuZ292LnR3L2dpc3RfYXBpL1YzL01hcC9HZW9Mb2NhdGluZy9EaXN0cmljdC9Mb2NhdGlvblgvIi5jb25jYXQobG9jWCwgIi9Mb2NhdGlvblkvIikuY29uY2F0KGxvY1ksICI/JGZvcm1hdD1KU09OIik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgiYnJlYWsiLCA5KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSA5OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIiIuY29uY2F0KGFwaVVybCksIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogX3RoaXM0LmdldEF1dGhvcml6YXRpb25IZWFkZXIoKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxODsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MSA9IF9jb250ZXh0M1siY2F0Y2giXSg5KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0My50MSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIzOwogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQzLnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzksIDE4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRDaXR5TmFtZTogZnVuY3Rpb24gZ2V0Q2l0eU5hbWUoX3JlZjMpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgYWRkcmVzcywgbG9jWCwgbG9jWSwgY2l0eU5hbWUsIGdlb0J5QWRkcmVzcywgX3JlZjQsIGxvY1hCeUFkZHJlc3MsIGxvY1lCeUFkZHJlc3MsIGdlb0J5WFksIF9jaXR5TmFtZTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFkZHJlc3MgPSBfcmVmMy5hZGRyZXNzLCBsb2NYID0gX3JlZjMubG9jWCwgbG9jWSA9IF9yZWYzLmxvY1k7CgogICAgICAgICAgICAgICAgaWYgKCEobG9jWCAmJiBsb2NZKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmdldFRkeEdlb0RhdGEoewogICAgICAgICAgICAgICAgICBhcGlUeXBlOiAiR2VvTG9jYXRpbmciLAogICAgICAgICAgICAgICAgICBsb2NYOiBsb2NYLAogICAgICAgICAgICAgICAgICBsb2NZOiBsb2NZCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY2l0eU5hbWUgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBjaXR5TmFtZTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKCFfY29udGV4dDQuc2VudCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBjaXR5TmFtZVswXS5DaXR5TmFtZSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICghYWRkcmVzcykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5nZXRUZHhHZW9EYXRhKHsKICAgICAgICAgICAgICAgICAgYXBpVHlwZTogIkdlb0NvZGUiLAogICAgICAgICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIGdlb0J5QWRkcmVzcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgZ2VvQnlBZGRyZXNzID0gZ2VvQnlBZGRyZXNzWzBdLkdlb21ldHJ5LnNwbGl0KCIgIik7CiAgICAgICAgICAgICAgICBfcmVmNCA9IFtnZW9CeUFkZHJlc3NbMV0ucmVwbGFjZSgiKCIsICIiKSwgZ2VvQnlBZGRyZXNzWzJdLnJlcGxhY2UoIikiLCAiIildLCBsb2NYQnlBZGRyZXNzID0gX3JlZjRbMF0sIGxvY1lCeUFkZHJlc3MgPSBfcmVmNFsxXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmdldFRkeEdlb0RhdGEoewogICAgICAgICAgICAgICAgICBhcGlUeXBlOiAiR2VvTG9jYXRpbmciLAogICAgICAgICAgICAgICAgICBsb2NYOiBsb2NYQnlBZGRyZXNzLAogICAgICAgICAgICAgICAgICBsb2NZOiBsb2NZQnlBZGRyZXNzCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIGdlb0J5WFkgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIC8vIOacg+S4jeacg+aIkeS4gOmWi+Wni+ebtOaOpeWIh+WcsOWdgOWJjeS4ieWAi+Wtl+WwseWlveS6hiBYRCArIFFBUQogICAgICAgICAgICAgICAgX2NpdHlOYW1lID0gZ2VvQnlYWS5DaXR5TmFtZSA/IGdlb0J5WFkuQ2l0eU5hbWUgOiBhZGRyZXNzLnNsaWNlKDAsIDMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBfY2l0eU5hbWU7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ0LnNlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsICIiKTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/linyoungshiu/Lobby(OwO)/案子/個人作品｜做簡約好玩的東西/大量練習的過程/前端/hang_out_taiwan/src/mixins/getTdxDataMixin.js"],"names":["jsSHA","axios","data","tdxData","methods","getSpotApiUrl","apiType","city","select","filter","orderby","top","skip","spatialFilter","customParameters","type","valueList","apiParameterString","apiParameterList","forEach","item","length","itemValue","join","push","apiUrl","getAuthorizationHeader","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","setHMACKey","update","HMAC","getHMAC","Authorization","getSpotsFromTdx","apiTypeAndParameters","_this","get","headers","res","console","log","getCityList","getTdxGeoData","address","locX","locY","getCityName","cityName","CityName","geoByAddress","Geometry","split","replace","locXByAddress","locYByAddress","geoByXY","slice"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,EAAAA,IADa,kBACN;AACL,WAAO;AACLC,MAAAA,OAAO,EAAE;AADJ,KAAP;AAGD,GALY;AAMbC,EAAAA,OAAO,EAAE;AACP;AACAC,IAAAA,aAFO,+BAWJ;AAAA,8BARDC,OAQC;AAAA,UARDA,OAQC,6BARS,YAQT;AAAA,2BAPDC,IAOC;AAAA,UAPDA,IAOC,0BAPM,IAON;AAAA,6BANDC,MAMC;AAAA,UANDA,MAMC,4BANQ,EAMR;AAAA,6BALDC,MAKC;AAAA,UALDA,MAKC,4BALQ,EAKR;AAAA,8BAJDC,OAIC;AAAA,UAJDA,OAIC,6BAJS,EAIT;AAAA,0BAHDC,GAGC;AAAA,UAHDA,GAGC,yBAHK,EAGL;AAAA,2BAFDC,IAEC;AAAA,UAFDA,IAEC,0BAFM,EAEN;AAAA,oCADDC,aACC;AAAA,UADDA,aACC,mCADe,EACf;AACD,UAAIC,gBAAgB,GAAG,CACrB;AAAEC,QAAAA,IAAI,EAAE,QAAR;AAAkBC,QAAAA,SAAS,EAAER;AAA7B,OADqB,EAErB;AAAEO,QAAAA,IAAI,EAAE,QAAR;AAAkBC,QAAAA,SAAS,EAAEP;AAA7B,OAFqB,EAGrB;AAAEM,QAAAA,IAAI,EAAE,SAAR;AAAmBC,QAAAA,SAAS,EAAEN;AAA9B,OAHqB,EAIrB;AAAEK,QAAAA,IAAI,EAAE,KAAR;AAAeC,QAAAA,SAAS,EAAEL;AAA1B,OAJqB,EAKrB;AAAEI,QAAAA,IAAI,EAAE,MAAR;AAAgBC,QAAAA,SAAS,EAAEJ;AAA3B,OALqB,EAMrB;AAAEG,QAAAA,IAAI,EAAE,eAAR;AAAyBC,QAAAA,SAAS,EAAEH;AAApC,OANqB,CAAvB;AAQA,UAAII,kBAAkB,GAAG,EAAzB;AACA,UAAIC,gBAAgB,GAAG,EAAvB,CAVC,CAWD;;AAEAJ,MAAAA,gBAAgB,CAACK,OAAjB,CAAyB,UAAUC,IAAV,EAAgB;AACvC,YAAIA,IAAI,CAACJ,SAAL,CAAeK,MAAf,KAA0B,CAA9B,EAAiC;AAC/B,cAAIC,SAAS,GAAG,EAAhB;AACAA,UAAAA,SAAS,eAAQF,IAAI,CAACL,IAAb,MAAT;AACAO,UAAAA,SAAS,IAAIF,IAAI,CAACJ,SAAL,CAAeK,MAAf,KAA0B,CAA1B,GAA8BD,IAAI,CAACJ,SAAL,CAAe,CAAf,CAA9B,GAAkDI,IAAI,CAACJ,SAAL,CAAeO,IAAf,CAAoB,QAApB,CAA/D;AACAL,UAAAA,gBAAgB,CAACM,IAAjB,CAAsBF,SAAtB;AACD;AACF,OAPD;;AAQA,UAAIf,IAAJ,EAAU;AACRD,QAAAA,OAAO,eAAQC,IAAR,CAAP;AACD;;AACD,UAAIW,gBAAgB,CAACG,MAAjB,KAA4B,CAAhC,EAAmC;AACjCJ,QAAAA,kBAAkB,GAAGC,gBAAgB,CAACK,IAAjB,CAAsB,GAAtB,CAArB;AACAN,QAAAA,kBAAkB,IAAI,GAAtB;AACD;;AAED,UAAIQ,MAAM,0DAAmDnB,OAAnD,cAA8DW,kBAA9D,iBAAV,CA7BC,CA8BD;;AACA,aAAOQ,MAAP;AACD,KA3CM;AA4CPC,IAAAA,sBA5CO,oCA4CkB;AACvB;AACA,UAAIC,KAAK,GAAG,kCAAZ;AACA,UAAIC,MAAM,GAAG,6BAAb,CAHuB,CAIvB;;AAEA,UAAIC,SAAS,GAAG,IAAIC,IAAJ,GAAWC,WAAX,EAAhB;AACA,UAAIC,MAAM,GAAG,IAAIhC,KAAJ,CAAU,OAAV,EAAmB,MAAnB,CAAb;AACAgC,MAAAA,MAAM,CAACC,UAAP,CAAkBL,MAAlB,EAA0B,MAA1B;AACAI,MAAAA,MAAM,CAACE,MAAP,CAAc,aAAaL,SAA3B;AACA,UAAIM,IAAI,GAAGH,MAAM,CAACI,OAAP,CAAe,KAAf,CAAX;AACA,UAAIC,aAAa,6BAAqBV,KAArB,uEAAiFQ,IAAjF,OAAjB;AACA,aAAO;AAAEE,QAAAA,aAAa,EAAEA,aAAjB;AAAgC,kBAAUR;AAA1C,OAAP;AACD,KAzDM;AA0DDS,IAAAA,eA1DC,2BA0DeC,oBA1Df,EA0DqC;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtCC,gBAAAA,KADsC,GAC9B,MAD8B;AAEtCf,gBAAAA,MAFsC,GAE7Be,KAAK,CAACnC,aAAN,CAAoBkC,oBAApB,CAF6B;AAAA;AAAA;AAAA,uBAKxBtC,KAAK,CAACwC,GAAN,EACd;AACA;AACA;AACA;AACA;AACA;AANc,0BAOXhB,MAPW,GAQd;AACEiB,kBAAAA,OAAO,EAAE,MAAI,CAAChB,sBAAL;AADX,iBARc,CALwB;;AAAA;AAKpCiB,gBAAAA,GALoC;AAAA;AAAA,uBAmB3BA,GAAG,CAACzC,IAnBuB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAqBxC0C,gBAAAA,OAAO,CAACC,GAAR;;AArBwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuB3C,KAjFM;AAmFDC,IAAAA,WAnFC,yBAmFa;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACdrB,gBAAAA,MADc,GAEhB,kEAFgB;AAAA;AAAA;AAAA,uBAKAxB,KAAK,CAACwC,GAAN,CAAUhB,MAAV,EAAkB;AAChCiB,kBAAAA,OAAO,EAAE,MAAI,CAAChB,sBAAL;AADuB,iBAAlB,CALA;;AAAA;AAKZiB,gBAAAA,GALY;AAAA;AAAA,uBASHA,GAAG,CAACzC,IATD;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAWhB0C,gBAAAA,OAAO,CAACC,GAAR;;AAXgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAanB,KAhGM;AAiGDE,IAAAA,aAjGC,gCAsGJ;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sCAJDzC,OAIC,EAJDA,OAIC,8BAJS,SAIT,wCAHD0C,OAGC,EAHDA,OAGC,8BAHS,EAGT,qCAFDC,IAEC,EAFDA,IAEC,2BAFM,EAEN,kCADDC,IACC,EADDA,IACC,2BADM,EACN;AACD;AACIzB,gBAAAA,MAFH,GAEY,EAFZ;AAAA,+BAGOnB,OAHP;AAAA,kDAIM,SAJN,wBAOM,aAPN;AAAA;;AAAA;AAKGmB,gBAAAA,MAAM,iFAA0EuB,OAA1E,CAAN;AALH;;AAAA;AAQGvB,gBAAAA,MAAM,qFAA8EwB,IAA9E,wBAAgGC,IAAhG,kBAAN;AARH;;AAAA;AAAA;AAAA;AAAA,uBAaiBjD,KAAK,CAACwC,GAAN,WAAahB,MAAb,GAAuB;AACrCiB,kBAAAA,OAAO,EAAE,MAAI,CAAChB,sBAAL;AAD4B,iBAAvB,CAbjB;;AAAA;AAaKiB,gBAAAA,GAbL;AAAA;AAAA,uBAkBcA,GAAG,CAACzC,IAlBlB;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAoBC0C,gBAAAA,OAAO,CAACC,GAAR;AApBD;AAAA,uBAqBc,IArBd;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBF,KA7HM;AA+HDM,IAAAA,WA/HC,8BA+HoC;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAvBH,gBAAAA,OAAuB,SAAvBA,OAAuB,EAAdC,IAAc,SAAdA,IAAc,EAARC,IAAQ,SAARA,IAAQ;;AAAA,sBACrCD,IAAI,IAAIC,IAD6B;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAElB,MAAI,CAACH,aAAL,CAAmB;AACtCzC,kBAAAA,OAAO,EAAE,aAD6B;AAEtC2C,kBAAAA,IAAI,EAAEA,IAFgC;AAGtCC,kBAAAA,IAAI,EAAEA;AAHgC,iBAAnB,CAFkB;;AAAA;AAEnCE,gBAAAA,QAFmC;AAAA;AAAA,uBAO7BA,QAP6B;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,kDAQ9BA,QAAQ,CAAC,CAAD,CAAR,CAAYC,QARkB;;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAU9BL,OAV8B;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAWd,MAAI,CAACD,aAAL,CAAmB;AAC1CzC,kBAAAA,OAAO,EAAE,SADiC;AAE1C0C,kBAAAA,OAAO,EAAEA;AAFiC,iBAAnB,CAXc;;AAAA;AAWnCM,gBAAAA,YAXmC;AAevCA,gBAAAA,YAAY,GAAGA,YAAY,CAAC,CAAD,CAAZ,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,CAAf;AAfuC,wBAiBF,CACnCF,YAAY,CAAC,CAAD,CAAZ,CAAgBG,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CADmC,EAEnCH,YAAY,CAAC,CAAD,CAAZ,CAAgBG,OAAhB,CAAwB,GAAxB,EAA6B,EAA7B,CAFmC,CAjBE,EAiBlCC,aAjBkC,aAiBnBC,aAjBmB;AAAA;AAAA,uBAqBnB,MAAI,CAACZ,aAAL,CAAmB;AACrCzC,kBAAAA,OAAO,EAAE,aAD4B;AAErC2C,kBAAAA,IAAI,EAAES,aAF+B;AAGrCR,kBAAAA,IAAI,EAAES;AAH+B,iBAAnB,CArBmB;;AAAA;AAqBnCC,gBAAAA,OArBmC;AA2BvC;AACIR,gBAAAA,SA5BmC,GA4BxBQ,OAAO,CAACP,QAAR,GACXO,OAAO,CAACP,QADG,GAEXL,OAAO,CAACa,KAAR,CAAc,CAAd,EAAiB,CAAjB,CA9BmC;AAAA;AAAA,uBA+B1BT,SA/B0B;;AAAA;AAAA;;AAAA;AAAA,kDAiChC,EAjCgC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmC1C;AAlKM;AANI,CAAf","sourcesContent":["import jsSHA from \"jssha\";\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      tdxData: [],\n    };\n  },\n  methods: {\n    // apiType 為 'ScenicSpot' 或 'Restaurant' 或 'Activity'\n    getSpotApiUrl({\n      apiType = \"ScenicSpot\",\n      city = null,\n      select = [],\n      filter = [],\n      orderby = [],\n      top = [],\n      skip = [],\n      spatialFilter = [],\n    }) {\n      let customParameters = [\n        { type: \"select\", valueList: select },\n        { type: \"filter\", valueList: filter },\n        { type: \"orderby\", valueList: orderby },\n        { type: \"top\", valueList: top },\n        { type: \"skip\", valueList: skip },\n        { type: \"spatialFilter\", valueList: spatialFilter },\n      ];\n      let apiParameterString = \"\";\n      let apiParameterList = [];\n      // console.log(\"customParameters\", customParameters)\n\n      customParameters.forEach(function (item) {\n        if (item.valueList.length !== 0) {\n          let itemValue = \"\";\n          itemValue += `$${item.type}=`;\n          itemValue += item.valueList.length === 1 ? item.valueList[0] : item.valueList.join(\"%2C%20\");\n          apiParameterList.push(itemValue);\n        }\n      });\n      if (city) {\n        apiType += `/${city}`;\n      }\n      if (apiParameterList.length !== 0) {\n        apiParameterString = apiParameterList.join(\"&\");\n        apiParameterString += \"&\";\n      }\n\n      let apiUrl = `https://ptx.transportdata.tw/MOTC/v2/Tourism/${apiType}?${apiParameterString}$format=JSON`;\n      // console.log(\"apiUrl\", apiUrl)\n      return apiUrl;\n    },\n    getAuthorizationHeader() {\n      //  填入自己 ID、KEY 開始\n      let AppID = \"6881a6e19c3240089c9d8cc87f52f52e\";\n      let AppKey = \"z274IyT03M2HixJY5cAbZn-8ccs\";\n      //  填入自己 ID、KEY 結束\n\n      let GMTString = new Date().toGMTString();\n      let ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\n      ShaObj.setHMACKey(AppKey, \"TEXT\");\n      ShaObj.update(\"x-date: \" + GMTString);\n      let HMAC = ShaObj.getHMAC(\"B64\");\n      let Authorization = `hmac username=\"${AppID}\",algorithm=\"hmac-sha1\",headers=\"x-date\",signature=\"${HMAC}\"`;\n      return { Authorization: Authorization, \"X-Date\": GMTString };\n    },\n    async getSpotsFromTdx(apiTypeAndParameters) {\n      var _this = this;\n      var apiUrl = _this.getSpotApiUrl(apiTypeAndParameters);\n\n      try {\n        let res = await axios.get(\n          // $select     Picture, Name, Address, ZipCode\n          // $orderby    SrcUpdateTime desc; 排序按照資料更新日期最新的開始\n          // $top        12; 取 12 筆資料\n          // $skip\t     10; 跳過前 10 筆資料\n          // 取得觀光景點資料\n          // \"https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$select=Picture%2C%20Name%2C%20Address%2C%20ZipCode&$orderby=SrcUpdateTime%20desc&$top=12&$skip=10&$format=JSON\",\n          `${apiUrl}`,\n          {\n            headers: this.getAuthorizationHeader(),\n          }\n        );\n        // console.log(apiUrl, res.data);\n\n        return await res.data;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    async getCityList() {\n      var apiUrl =\n        \"https://gist.motc.gov.tw/gist_api/V3/Map/Basic/City?$format=JSON\";\n\n      try {\n        let res = await axios.get(apiUrl, {\n          headers: this.getAuthorizationHeader(),\n        });\n        // console.log(\" getCityList\", apiUrl, res.data);\n        return await res.data;\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    async getTdxGeoData({\n      apiType = \"GeoCode\",\n      address = \"\",\n      locX = \"\",\n      locY = \"\",\n    }) {\n      // apiType 為 GeoCode or GeoLocating\n      let apiUrl = \"\";\n      switch (apiType) {\n        case \"GeoCode\":\n          apiUrl = `https://gist.motc.gov.tw/gist_api/V3/Map/GeoCode/Coordinate/Address/${address}`;\n          break;\n        case \"GeoLocating\":\n          apiUrl = `https://gist.motc.gov.tw/gist_api/V3/Map/GeoLocating/District/LocationX/${locX}/LocationY/${locY}?$format=JSON`;\n          break;\n      }\n\n      try {\n        let res = await axios.get(`${apiUrl}`, {\n          headers: this.getAuthorizationHeader(),\n        });\n        // console.log(res);\n\n        return await res.data;\n      } catch (err) {\n        console.log(err);\n        return await null;\n      }\n    },\n\n    async getCityName({ address, locX, locY }) {\n      if (locX && locY) {\n        let cityName = await this.getTdxGeoData({\n          apiType: \"GeoLocating\",\n          locX: locX,\n          locY: locY,\n        });\n        if (await cityName) {\n          return cityName[0].CityName;\n        }\n      } else if (address) {\n        let geoByAddress = await this.getTdxGeoData({\n          apiType: \"GeoCode\",\n          address: address,\n        });\n        geoByAddress = geoByAddress[0].Geometry.split(\" \");\n\n        let [locXByAddress, locYByAddress] = [\n          geoByAddress[1].replace(\"(\", \"\"),\n          geoByAddress[2].replace(\")\", \"\"),\n        ];\n        let geoByXY = await this.getTdxGeoData({\n          apiType: \"GeoLocating\",\n          locX: locXByAddress,\n          locY: locYByAddress,\n        });\n\n        // 會不會我一開始直接切地址前三個字就好了 XD + QAQ\n        let cityName = geoByXY.CityName\n          ? geoByXY.CityName\n          : address.slice(0, 3);\n        return await cityName;\n      } else {\n        return \"\";\n      }\n    },\n  },\n};\n"]}]}